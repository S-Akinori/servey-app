import{W as w,j as e,d as b,y as _}from"./app-fedcb5a0.js";import{T as d}from"./Title-9e9d0787.js";import{B as v,R as T,a as o}from"./Box-13cf05e4.js";import{C}from"./ClientAuthenticatedLayout-64209adf.js";import{A as B}from"./ApplicationLogo-4c572d9e.js";import{B as k}from"./Button-c114a072.js";import{C as A}from"./Container-a279a739.js";import{F as f}from"./FormControl-8c89ee1d.js";import{F as n}from"./FormGroup-f7004566.js";import{T as g,S as F}from"./TextField-dc7b017d.js";import{M as S}from"./MenuItem-6871c6a3.js";/* empty css            */import"./createSvgIcon-d1455e09.js";import"./TransitionGroupContext-10708b45.js";import"./createChainedFunction-0bab83cf.js";import"./useId-b3557c2a.js";import"./ResponsiveNavLink-be4e6217.js";import"./transition-c32f8002.js";import"./useFormControl-e6cd82b4.js";import"./ButtonBase-3566947c.js";import"./Typography-9044f71e.js";import"./extendSxProp-c29c8b7a.js";import"./Modal-be11ccd6.js";import"./debounce-517eeb3c.js";const P=m=>{let l={};return m.answers&&m.answers.map(s=>{l["q_"+s.question_id]=s.value}),l},ce=({auth:m,survey:l,response:s,flash:R,user_id:h})=>{const{data:t,setData:y,post:W,put:D,processing:u,errors:I,reset:L}=w(s?P(s):{}),r=i=>{const c=i.target.name,a=i.target.value;let p={...t,[c]:a};y(p)},N=i=>{console.log(t),l.id==1?_.get(route("admin.client.survey.thanks")):_.get(route("admin.client.survey.show",{id:1,user_id:h}))};return console.log(l),e.jsx(C,{user:m.user,children:e.jsx(A,{className:"py-12",children:e.jsx("div",{children:e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(B,{width:70,height:70,className:"mx-auto"}),e.jsx(d,{Tag:"h1",title:l.title})]}),l.forms.map(i=>{var c;return((c=i.user_form_meta)==null?void 0:c.value)!=0&&e.jsxs("div",{children:[e.jsx(d,{title:i.title,Tag:"h3",className:"p-4 mb-4 bg-main text-main-cont"}),e.jsx("div",{children:i.questions.map((a,p)=>{var j;return e.jsx(e.Fragment,{children:((j=a.user_question_meta)==null?void 0:j.value)!=0&&e.jsxs("div",{className:"mb-16",children:[a.type==="scale"&&a.scale&&e.jsxs("div",{children:[e.jsx(d,{title:a.title,Tag:"h4",className:"py-4 mb-4 border-b-2 border-main"}),e.jsxs("div",{className:"mb-20",children:[e.jsxs("div",{className:"md:flex justify-between",children:[e.jsxs(v,{children:["A: ",a.scale.min_text]}),e.jsxs(v,{children:["B: ",a.scale.max_text]})]}),e.jsx(f,{sx:{width:"100%"},children:e.jsxs(T,{row:!0,"aria-labelledby":"demo-form-control-label-placement",name:"position",defaultValue:"top",sx:{justifyContent:"space-between"},children:[e.jsx(n,{value:"1",control:e.jsx(o,{onChange:r}),label:"Aに近い",labelPlacement:"bottom",id:"q_"+a.id,name:"q_"+a.id,checked:t["q_"+a.id]==="1"}),e.jsx(n,{value:"2",control:e.jsx(o,{onChange:r}),label:"Aにやや近い",labelPlacement:"bottom",id:"q_"+a.id,name:"q_"+a.id,checked:t["q_"+a.id]==="2"}),e.jsx(n,{value:"3",control:e.jsx(o,{onChange:r}),label:"Bにやや近い",labelPlacement:"bottom",id:"q_"+a.id,name:"q_"+a.id,checked:t["q_"+a.id]==="3"}),e.jsx(n,{value:"4",control:e.jsx(o,{onChange:r}),label:"Bに近い",labelPlacement:"bottom",id:"q_"+a.id,name:"q_"+a.id,checked:t["q_"+a.id]==="4"})]})})]})]}),a.type==="text"&&e.jsxs("div",{children:[e.jsx(d,{title:a.title,Tag:"h4",className:"py-4 mb-4 border-b-2 border-main"}),e.jsx(g,{id:"q_"+a.id,type:"text",name:"q_"+a.id,defaultValue:t["q_"+a.id],variant:"outlined",onChange:r,fullWidth:!0})]}),a.type==="textarea"&&e.jsxs("div",{children:[e.jsx(d,{title:a.title,Tag:"h4",className:"py-4 mb-4 border-b-2 border-main"}),e.jsx(g,{id:"q_"+a.id,type:"text",name:"q_"+a.id,defaultValue:t["q_"+a.id],variant:"outlined",onChange:r,fullWidth:!0,multiline:!0,rows:4}),e.jsxs("div",{children:[t["q_"+a.id]?t["q_"+a.id].length:0,"文字"]})]}),a.type==="dropdown"&&a.choices&&e.jsxs("div",{children:[e.jsx(d,{title:a.title,Tag:"h4",className:"py-4 mb-4 border-b-2 border-main"}),e.jsx(f,{fullWidth:!0,children:e.jsx(F,{labelId:"type",id:"q_"+a.id,name:"q_"+a.id,value:t["q_"+a.id]?t["q_"+a.id]:a.choices[0].value,onChange:r,children:a.choices.map((x,V)=>e.jsx(S,{value:x.value,children:x.title},x.id))})})]})]},a.id)})})})]},i.id)})]}),e.jsx("div",{className:"text-center",children:e.jsxs(k,{className:"ml-4",disabled:u,children:[l.id==1&&e.jsx(b,{href:route("admin.client.survey.thanks"),children:"回答"}),l.id!=1&&e.jsx(b,{href:route("admin.client.survey.show",{id:1,user_id:h}),children:"回答して次へ"})]})})]})})})})};export{ce as default};
