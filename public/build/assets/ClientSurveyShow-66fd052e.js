import{W as N,j as e,a as C,d as b,y as _}from"./app-1cc7af4d.js";import{T as x}from"./Title-bdd144eb.js";import{B as v,R as B,a as c}from"./Box-faa78ac1.js";import{C as T}from"./ClientAuthenticatedLayout-ccee5953.js";import{A as k}from"./ApplicationLogo-9b07ad06.js";import{B as A}from"./Button-e842edb2.js";import{C as F}from"./Container-981471f7.js";import{F as f}from"./FormControl-c79cb863.js";import{F as o}from"./FormGroup-a53f89f2.js";import{T as u,S}from"./TextField-0ca15562.js";import{M as P}from"./MenuItem-0f47bb1e.js";/* empty css            */import"./createSvgIcon-3a230c1d.js";import"./TransitionGroupContext-d9e5bb2a.js";import"./createChainedFunction-0bab83cf.js";import"./useId-d8f711bd.js";import"./ResponsiveNavLink-1de2d82e.js";import"./transition-768a1334.js";import"./useFormControl-49f2c98d.js";import"./ButtonBase-12e61157.js";import"./Typography-f057043c.js";import"./extendSxProp-37d23402.js";import"./Modal-394f6331.js";import"./debounce-517eeb3c.js";const R=s=>{let l={};return s.answers&&s.answers.map(d=>{l["q_"+d.question_id]=d.value}),l},oe=({auth:s,survey:l,response:d,flash:W,user_id:h})=>{const{data:t,setData:g,post:D,put:I,processing:y,errors:L,reset:V}=N(d?R(d):{}),r=i=>{const m=i.target.name,a=i.target.value;let p={...t,[m]:a};g(p)},w=i=>{console.log(t),l.id==1?_.get(route("admin.client.survey.thanks")):_.get(route("admin.client.survey.show",{id:1,user_id:h}))};return console.log(l),e.jsxs(T,{user:s.user,children:[e.jsx(C,{title:l.title}),e.jsx(F,{className:"py-12",children:e.jsx("div",{children:e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(k,{width:70,height:70,className:"mx-auto"}),e.jsx(x,{Tag:"h1",title:l.title}),e.jsx("p",{className:"text-sm mt-4",children:"*は必須項目"})]}),l.forms.map(i=>{var m;return((m=i.user_form_meta)==null?void 0:m.value)!=0&&e.jsxs("div",{children:[e.jsx(x,{title:i.title,Tag:"h3",className:"p-4 mb-4 bg-main text-main-cont"}),e.jsx("div",{children:i.questions.map((a,p)=>{var j;return e.jsx(e.Fragment,{children:((j=a.user_question_meta)==null?void 0:j.value)!=0&&e.jsxs("div",{className:"mb-16",children:[e.jsx(x,{title:a.required?a.title+"*":a.title,Tag:"h4",className:"py-4 mb-4 border-b-2 border-main"}),a.type==="scale"&&a.scale&&e.jsx("div",{children:e.jsxs("div",{className:"mb-20",children:[e.jsxs("div",{className:"md:flex justify-between",children:[e.jsxs(v,{children:["A: ",a.scale.min_text]}),e.jsxs(v,{children:["B: ",a.scale.max_text]})]}),e.jsx(f,{sx:{width:"100%"},children:e.jsxs(B,{row:!0,"aria-labelledby":"demo-form-control-label-placement",name:"position",defaultValue:"top",sx:{justifyContent:"space-between"},children:[e.jsx(o,{value:"1",control:e.jsx(c,{onChange:r}),label:"Aに近い",labelPlacement:"bottom",id:"q_"+a.id,name:"q_"+a.id,checked:t["q_"+a.id]==="1"}),e.jsx(o,{value:"2",control:e.jsx(c,{onChange:r}),label:"Aにやや近い",labelPlacement:"bottom",id:"q_"+a.id,name:"q_"+a.id,checked:t["q_"+a.id]==="2"}),e.jsx(o,{value:"3",control:e.jsx(c,{onChange:r}),label:"Bにやや近い",labelPlacement:"bottom",id:"q_"+a.id,name:"q_"+a.id,checked:t["q_"+a.id]==="3"}),e.jsx(o,{value:"4",control:e.jsx(c,{onChange:r}),label:"Bに近い",labelPlacement:"bottom",id:"q_"+a.id,name:"q_"+a.id,checked:t["q_"+a.id]==="4"})]})})]})}),a.type==="text"&&e.jsx("div",{children:e.jsx(u,{id:"q_"+a.id,type:"text",name:"q_"+a.id,defaultValue:t["q_"+a.id],variant:"outlined",onChange:r,fullWidth:!0,required:a.required})}),a.type==="textarea"&&e.jsxs("div",{children:[e.jsx(u,{id:"q_"+a.id,type:"text",name:"q_"+a.id,defaultValue:t["q_"+a.id],variant:"outlined",onChange:r,fullWidth:!0,multiline:!0,rows:4,required:a.required}),e.jsxs("div",{children:[t["q_"+a.id]?t["q_"+a.id].length:0,"文字"]})]}),a.type==="dropdown"&&a.choices&&e.jsx("div",{children:e.jsx(f,{fullWidth:!0,children:e.jsx(S,{labelId:"type",id:"q_"+a.id,name:"q_"+a.id,value:t["q_"+a.id]?t["q_"+a.id]:a.choices[0].value,onChange:r,required:a.required,children:a.choices.map((n,M)=>e.jsx(P,{value:n.value,children:n.title},n.id))})})})]},a.id)})})})]},i.id)})]}),e.jsx("div",{className:"text-center",children:e.jsxs(A,{className:"ml-4",disabled:y,children:[l.id==1&&e.jsx(b,{href:route("admin.client.survey.thanks"),children:"回答"}),l.id!=1&&e.jsx(b,{href:route("admin.client.survey.show",{id:1,user_id:h}),children:"回答して次へ"})]})})]})})})]})};export{oe as default};
