import{W as y,j as e}from"./app-68050979.js";import{T as s}from"./Title-53a26a58.js";import{B as j,R as N,F as o,a as n}from"./Box-71090b17.js";import{C as w}from"./ClientAuthenticatedLayout-29f65e61.js";import{A as T}from"./ApplicationLogo-8afda6e7.js";import{B}from"./Button-9e76dcf7.js";import{C}from"./Container-0e95935a.js";import{F as b}from"./FormControl-554ab2d5.js";import{T as h,S as A}from"./TextField-1c1b26d2.js";import{M as F}from"./MenuItem-ca5f9989.js";/* empty css            */import"./TransitionGroupContext-d19eaafc.js";import"./Typography-2c880b31.js";import"./extendSxProp-e189ea43.js";import"./ButtonBase-d60102d8.js";import"./createSvgIcon-2d4d45c8.js";import"./ResponsiveNavLink-89c15b17.js";import"./transition-950ae369.js";import"./Modal-9888700a.js";import"./debounce-517eeb3c.js";const S=c=>{let t={};return c.answers&&c.answers.map(d=>{t["q_"+d.question_id]=d.value}),t},ee=({auth:c,survey:t,response:d,flash:x})=>{const{data:l,setData:v,post:_,put:f,processing:g,errors:k,reset:D}=y(d?S(d):{}),r=i=>{const a=i.target.name,p=i.target.value;let m={...l,[a]:p};v(m)},u=i=>{i.preventDefault(),console.log(l),d?(console.log("update"),f(route("client.survey.update",{survey_id:t.id}))):(console.log("store"),_(route("client.survey.store",{survey_id:t.id})))};return e.jsx(w,{user:c.user,children:e.jsx(C,{className:"py-12",children:e.jsxs("div",{children:[x&&e.jsx("div",{className:"bg-green-200 text-green-600 p-4 mb-4 rounded",children:x.message}),!x&&e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(T,{width:70,height:70,className:"mx-auto"}),e.jsx(s,{Tag:"h1",title:t.title})]}),t.forms.map(i=>e.jsxs("div",{children:[e.jsx(s,{title:i.title,Tag:"h3",className:"p-4 mb-4 bg-main text-main-cont"}),e.jsx("div",{children:i.questions.map((a,p)=>e.jsxs("div",{className:"mb-16",children:[a.type==="scale"&&a.scale&&e.jsxs("div",{children:[p===0&&e.jsx(s,{title:a.title,Tag:"h4",className:"py-4 mb-4 border-b-2 border-main"}),e.jsxs("div",{className:"mb-20",children:[e.jsxs("div",{className:"md:flex justify-between",children:[e.jsxs(j,{children:["A: ",a.scale.min_text]}),e.jsxs(j,{children:["B: ",a.scale.max_text]})]}),e.jsx(b,{sx:{width:"100%"},children:e.jsxs(N,{row:!0,"aria-labelledby":"demo-form-control-label-placement",name:"position",defaultValue:"top",sx:{justifyContent:"space-between"},children:[e.jsx(o,{value:"1",control:e.jsx(n,{onChange:r}),label:"Aに近い",labelPlacement:"bottom",id:"q_"+a.id,name:"q_"+a.id,checked:l["q_"+a.id]==="1"}),e.jsx(o,{value:"2",control:e.jsx(n,{onChange:r}),label:"Aにやや近い",labelPlacement:"bottom",id:"q_"+a.id,name:"q_"+a.id,checked:l["q_"+a.id]==="2"}),e.jsx(o,{value:"3",control:e.jsx(n,{onChange:r}),label:"Bにやや近い",labelPlacement:"bottom",id:"q_"+a.id,name:"q_"+a.id,checked:l["q_"+a.id]==="3"}),e.jsx(o,{value:"4",control:e.jsx(n,{onChange:r}),label:"Bに近い",labelPlacement:"bottom",id:"q_"+a.id,name:"q_"+a.id,checked:l["q_"+a.id]==="4"})]})})]})]}),a.type==="text"&&e.jsxs("div",{children:[e.jsx(s,{title:a.title,Tag:"h4",className:"py-4 mb-4 border-b-2 border-main"}),e.jsx(h,{id:"q_"+a.id,type:"text",name:"q_"+a.id,defaultValue:l["q_"+a.id],variant:"outlined",onChange:r,fullWidth:!0})]}),a.type==="textarea"&&e.jsxs("div",{children:[e.jsx(s,{title:a.title,Tag:"h4",className:"py-4 mb-4 border-b-2 border-main"}),e.jsx(h,{id:"q_"+a.id,type:"text",name:"q_"+a.id,defaultValue:l["q_"+a.id],variant:"outlined",onChange:r,fullWidth:!0,multiline:!0,rows:4})]}),a.type==="dropdown"&&a.choices&&e.jsxs("div",{children:[e.jsx(s,{title:a.title,Tag:"h4",className:"py-4 mb-4 border-b-2 border-main"}),e.jsx(b,{fullWidth:!0,children:e.jsx(A,{labelId:"type",id:"q_"+a.id,name:"q_"+a.id,value:l["q_"+a.id]?l["q_"+a.id]:a.choices[0].value,onChange:r,children:a.choices.map((m,P)=>e.jsx(F,{value:m.value,children:m.title},m.id))})})]})]},a.id))})]},i.id))]}),e.jsx("div",{className:"text-center",children:e.jsxs(B,{className:"ml-4",disabled:g,children:[t.id===1&&"回答",t.id!==1&&"回答して次へ"]})})]})]})})})};export{ee as default};
